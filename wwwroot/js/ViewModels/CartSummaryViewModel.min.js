function CartSummaryViewModel(n){var t=this,i,r;for(t.cart=n,i=0;i<t.cart.cartItems.length;i++)r=t.cart.cartItems[i],r.quantity=ko.observable(r.quantity).extend({subTotal:r.book.salePrice});t.cart.cartItems=ko.observableArray(t.cart.cartItems);t.cart.total=t.cart.cartItems.total();t.updateCartItem=function(n){for(var r=!0,i=0;i<t.cart.cartItems().length;i++)if(t.cart.cartItems()[i].id==n.id){t.cart.cartItems()[i].quantity(n.quantity);r=!1;break}r&&(n.quantity=ko.observable(n.quantity).extend({subTotal:n.book.salePrice}),t.cart.cartItems.push(n))};t.deleteCartItem=function(n){for(var i=0;i<t.cart.cartItems().length;i++)if(t.cart.cartItems()[i].id==n.id){t.cart.cartItems.remove(t.cart.cartItems()[i]);break}};t.showCart=function(){$("#cart").popover("toggle")};t.fadeIn=function(n){setTimeout(function(){$("#cart").popover("show");$(n).slideDown(function(){setTimeout(function(){$("#cart").popover("hide")},2e3)})},100)};$("#cart").popover({html:!0,content:function(){return $("#cart-summary").html()},title:"Cart Details",placement:"bottom",animation:!0,trigger:"manual"})}